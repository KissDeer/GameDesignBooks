# 游戏AI的再认识

## Mike Lewis 和 Kevin Dill

### 1.1 引言 1.5 领域前沿

1.2 什么是游戏AI？ 1.6 结论
1.3 模糊的边界 参考文献
1.4 AI作为游戏开发的枢纽

### 1.1 引言

本书汇集了来自游戏AI开发者和研究者的知识、建议、经验教训和见解。尽管有如此强大的专家阵容，但即使是游戏AI领域的顶尖专家，也很难准确定义这个领域的范畴。

为游戏AI下一个简洁的定义已经足够困难，更不用说与开发社区的其他成员达成共识。通常，这个问题被完全回避。AI在行动中可以被识别出来，那么为什么要费心去用严格的定义来限制它呢？

不幸的是，这种观点对游戏社区的其他成员造成了根本性的伤害。玩家、记者、评论家，甚至其他开发者往往对游戏AI的本质、它能提供什么、以及什么是（和不是）容易的，只有一个不完整的理解。全面的分析可能需要一整本书，但我们至少会尝试在这里勾勒出游戏AI的边界。

音乐、古典艺术形式、电影、戏剧，甚至食物都受益于“欣赏课程”的概念。如果没有一些关于歌曲如何创作或雕塑如何从大理石中显现的基础知识，很难真正理解和享受它们的特别之处。在本章中，我们将尝试从类似的角度探索游戏AI领域。

### 1.2 什么是游戏AI？

在任何欣赏课程中，首先要建立的是词汇表。共享的词汇表使沟通更加流畅，减少错误。既然这是一本关于游戏AI的书，那么从定义“游戏AI”这个术语开始似乎是自然而然的。

尽管“游戏”这个术语本身也难以准确定义，但我们假设它已经被广泛理解。我们特别关注电子计算机游戏，因为它们是当代游戏AI最明显的栖息地。我们在本章中考虑的游戏的重要方面主要是通过设计呈现的玩家体验。

游戏的设计，广义上说，是游戏发生的“世界”的背景和规则——无论这个世界是抽象的、幻想的还是现实的。设计师管理和塑造游戏的运作方式、玩家与游戏的互动方式，以及玩家在游戏过程中应该获得的体验。

体验的典型组成部分包括玩家可能观察到的事物（如对手、环境和叙事时刻）、与游戏本身互动的方法，以及提供玩家关于这些互动后果的反馈。

创建游戏需要使用多种工具，从纯粹的艺术到高度技术性的工具。所有这些工具都用于实现游戏设计的愿景。AI是这个工具箱中特别强大的一部分。

如果游戏AI是一个工具集，那么这些工具何时变得必要？游戏可以（偶尔也确实）在没有真正的“人工智能”组件的情况下创建。显然，像《俄罗斯方块》这样的体验并不需要特别复杂的AI。那么，这些实现愿景的工具何时会被部署？

游戏与一些更常见的古典艺术形式之间的一个关键区别在于，游戏本质上是互动的。玩家在塑造游戏过程中展开的体验中扮演着某种角色，无论是次要的还是核心的。在更传统的领域中，参与式戏剧（如即兴喜剧）邀请观众与表演者进行交流。对于游戏来说，并不一定有一群现成的人类表演者与之互动——但我们仍然认为游戏是互动的。

在这种互动性中，定义游戏AI的一个重要标志出现了。互动可以采取多种形式。严格来说，人们一直在与无生命的物体互动。但与其他人互动通常比打开电灯开关有趣得多。虽然游戏体验在某种意义上几乎完全是机械的和“无生命的”，但许多游戏试图提供更引人入胜的东西——一些看起来更具体、更相关、更真实的东西。

我们可能会与电影或小说中的角色或情境产生共鸣，但我们无法与它们互动。相比之下，我们对游戏的体验是通过我们与游戏宇宙的互动来传递的。正是屏幕另一端的某种东西几乎“活”着的感觉，使游戏AI独特而强大。这种感觉来自于观察游戏“做出决定”接下来会发生什么。

更广泛地说，游戏AI可以被视为应用决策，特别是在游戏的背景下。最常见的形式是虚拟世界中的自主决策代理（即NPC）。游戏AI不必仅限于这些应用。对于游戏AI从业者来说，目标是使用编程技术使计算机能够做出有效的决策，以支持他们旨在创造的体验。这些决策可能涉及几乎任何事情，从角色及其对游戏事件的瞬间反应，到基于各种算法模型对整个游戏规则集的全面改变。

### 1.3 模糊的边界

人工智能作为一个领域是广泛的，涵盖的不仅仅是游戏。值得注意的是，许多在非游戏领域被归类为“AI”的技术与游戏中使用的典型技术几乎没有相似之处。

例如，学术AI通常专注于构建某种认知过程的可证伪科学模型。来自游戏领域之外的流行推理包，如SOAR、ACT-R和CoJACK，通常采用这种方法。改变AI的行为需要改进和调整认知模型本身。虽然这种方法对于从研究中得出可靠的结论和做出可验证的预测很重要，但它引入了游戏设计师意图与AI实现之间的一层抽象。这种额外的抽象增加了所需的开发工作量，因为无法直接更改AI行为。此外，这种抽象引入了显著的计算成本，这在许多游戏应用中可能是不可行的。

对于游戏来说，我们希望实现特定的行为以满足设计目标；如何实现这种行为或多或少是无关紧要的。更重要的是，我们希望有一组简单的控件，具有可理解和可预测的效果，以便创建所需的体验是直接的。过度的抽象和复杂性往往会使我们更难以获得我们想要的精确游戏体验。

另一个在游戏之外具有相当重要性的AI领域是机器学习。允许计算机发现和调整自己的解决方案可能听起来很有吸引力，但这种方法经常与创造特定体验的愿望相冲突。机器学习已经成功应用于游戏，但主要是在有限的子领域中，例如调整赛车游戏中汽车的路径。其他用途包括实际的游戏设计机制，这些机制可能非常有趣，但同样难以测试。最近，学习被探索为一种校准游戏平衡的方法。但通常情况下，它提出了游戏根本不需要解决的挑战。

同样，许多AI技术（如规划和基于效用的推理）旨在产生高度的自主性。这种特性使AI代理能够在开发者未直接预见的情况下做出明智的决策。虽然AI代理的自主性通常是可取的，但如果不加以仔细约束，它可能导致不可预测的行为（有时称为“涌现行为”）。是否应将其视为积极的结果在社区内激烈争论，但最终，这高度取决于游戏设计和我们希望创造的体验的性质。

作者控制与自主性从根本上是对立的，每个游戏设计师都必须决定倾向于哪一方以及倾向的程度。一些游戏，如《模拟人生》，依赖于自主性——每个角色几乎完全自由地行动，甚至在游戏世界中“生活”。一些整个类型，如实时或回合制策略游戏，需要高度的自主行为以提供引人入胜的对手。在光谱的另一端，像《魔兽世界》这样的游戏则有意最小化自主性。典型的《魔兽世界》首领战中的AI经过精心调整，以提供特定的体验，但也非常可预测。

另一个蓬勃发展的AI研究领域是数据挖掘。目前尚不清楚这个领域未来将与游戏AI有多少重叠。目前，只有最小的交集。在一些值得注意的案例中，数据挖掘用于帮助校准和平衡游戏设计（无论是在发布前还是发布后）。然而，这种数据分析与游戏AI功能之间的交互通常涉及大量的人工干预。与机器学习类似，与作者控制的愿望存在根本性的紧张关系，但仍有一些显著的潜力。

由于游戏AI的目标与其他AI研究和应用领域的目标如此不同，游戏中出现的技术选择自然也大不相同。作为一个总体趋势，游戏AI解决方案倾向于简单性、易于调整，以及（在某种程度上，取决于游戏）精确控制结果行为的能力。虽然与其他领域的AI技术可能有相当大的重叠，但游戏正在解决一组不同的问题。

### 1.4 AI作为游戏开发的枢纽

游戏AI和游戏设计几乎密不可分——事实上，许多团队严重依赖混合设计/工程角色，甚至完全统一“首席设计”和“首席AI”角色。如前所述，游戏AI的整个目的是进一步创造引人入胜的体验。这些体验的性质和范围完全取决于游戏本身的设计愿景。任何健康的游戏开发团队都会在设计与编程之间表现出密切的互动，无论角色是否合并。

这种关系并非偶然。对于大量游戏来说，设计本身是通过AI的媒介向玩家表达的。为了传达游戏世界及其中的代理的性质，设计师依赖AI，而AI又通过编程工作在很大程度上得以实现。完善行为需要将重点重新回到设计上，反馈和迭代循环以这种方式持续下去。

除了设计之外，AI几乎与游戏开发过程的每个部分都有联系。模型、精灵、纹理、效果、动画和其他艺术资产定义了AI代理可以用来与玩家交流的视觉语言。音频使玩家能够直接进行口头互动。甚至音乐也可以在运行时动态选择和修改，以唤起玩家的特定反应。

动画与AI的关系与AI和设计的关系非常相似。正如游戏设计主要通过AI表达一样，AI本身也主要通过动画表达。动画通常是AI用来向玩家传达其行动、意图、观点和感受的主要语言。AI只有在使用动画时才会被认为是好的。同样，世界上所有花哨的动画如果AI从未选择使用它们或以不当的方式使用它们，也是无用的。

另一个与玩家交流的常见工具是音频，特别是语音。同样，音频的有效性与AI的力量密切相关，AI的可信度感知可以通过仔细的语音工作得到显著影响。

物理系统通常对AI实现至关重要，尽管反过来并不成立。也就是说，物理可以提供关于世界的信息（例如通过射线投射），AI依赖这些信息来驱动其决策过程。在感知-思考-行动管道的另一端，物理通常限制了代理与游戏世界互动的方式。例如，通过直接修改变换来设置角色的位置可能会违反物理模拟的完整性，因此有必要使用物理模拟将该角色移动到适当的位置。这种相互作用通常会导致一些有趣的问题，例如确定如何通过世界移动代理以实现某个目标。随着这些挑战的复杂性增加，越来越有必要寻找新颖的解决方案。

即使是与AI基本独立的系统，如渲染，也经常被AI用来帮助表达意图。一种常见的技术是使用“提示”——图形效果或非常简单的动画，用于预示AI即将采取的行动。一个似乎尚未被充分探索的领域是AI与用户界面之间的交互。AI路径查找偶尔被用来向玩家显示路线提示。然而，还有许多其他可能性。例如，UI元素可以根据AI系统的信号选择性地隐藏或显示。任何提供目标或目标列表的UI都可以根据智能标准进行排序或过滤——部署AI推理不一定是为了计算机代理的利益，而是为了人类玩家的利益。

对于在线游戏，AI代表了一个有趣的技术挑战。在网络上复制AI行为很少有一刀切的解决方案。使AI在所有相关设备上以一致和及时的方式行为，同时尽量减少带宽和计算需求，通常需要大量的努力。尽管自在线游戏的早期以来，带宽已经大幅增加，但在这里和那里节省的几个字节对于蜂窝网络上的游戏或拥有大量玩家的游戏来说，可能会产生显著的影响。

在玩家直接体验的领域之外，AI在工具中的使用也有很大的潜力——无论是在游戏发布前开发游戏，还是在发布后分析（甚至更新）游戏。虽然用于调试和观察AI的工具被广泛认为是创建复杂行为的关键，但直接由AI系统驱动（或甚至大量补充）的工具却不太常见。确实存在一些值得注意的例外，随着数据挖掘技术的改进，深度依赖AI的工具似乎将变得越来越普遍。

### 1.5 领域前沿

游戏AI整体上随着时间的推移有了显著的进步。从最初基于简单模式的移动，发展到空间意识和战术推理。曾经仅限于单一手段对抗玩家的对手，现在可以巧妙地利用游戏世界的元素，即时发明新的挑战。甚至AI角色活动的呈现也融入了复杂的动画和音频系统。

随着所有这些进步，以及像本书这样充满更强大思想和技术的资源，可能会让人认为游戏AI已经征服了“简单的东西”。虽然一些挑战确实已经被充分理解，以至于有了事实上的标准解决方案，但稍微偏离常规路径就会发现，游戏AI领域几乎没有真正“解决”的问题。即使是有强大理论解决方案的挑战，在当代游戏日益复杂的环境中也会变得极其困难。

#### 1.5.1 路径查找

实现一个包含移动代理的计算机游戏通常涉及在一个（可能复杂的）世界空间中从一个地方到另一个地方的路径查找。幸运的是，自1959年以来，基本形式的有效解决方案已经存在，不到十年后，A*算法的出现带来了显著的改进。

A*搜索的普及导致了一个普遍的误解，即路径查找在现代游戏中已经不再是问题。确实，该算法及其几个值得注意的变体在实际应用中取得了巨大成功，几乎可以肯定，它将在很长一段时间内仍然是路径查找解决方案的主要内容。然而，许多游戏做出了让步，使A*特别有效。

游戏使用的空间表示是这种让步的常见领域。导航网格在3D游戏中几乎无处不在，但如果游戏环境在游戏过程中可以以不可预测的方式发生根本性变化，它们很快就会陷入困境。解决方案确实存在，但并未被广泛理解或公开，并且实现起来具有挑战性。（其中很大一部分存在于中间件路径规划解决方案中，被视为商业秘密。）即使是静态的导航网格，本质上也是空间的近似。在搜索近似空间的抽象表示时，无法保证找到“真实”的最短路径。

值得注意的是，大多数路径查找技术只关注距离和/或时间的最优性；换句话说，它们感兴趣的是找到从点到点的最短或最快路线。

如果我们希望一组代理分成几个小队并遵循四条“最佳”路径到达目的地呢？如果我们希望一个小队将敌人固定在原地，而另一个小队从侧翼包抄呢？如果代理希望找到一条最小化其被敌人可见性的路径呢？如果玩家可以随意放置（或移除！）可行走区域呢？如果决策的很大一部分会随时间变化，例如当代理希望使用缓慢移动的车辆作为临时掩护时呢？如果代理是一只容易分心的小狗，喜欢在行走时左右跳跃呢？

更进一步，如果代理有许多不同的移动方式，例如跳跃、飞行和游泳呢？如何有效地考虑所有这些选项？我们如何决定何时越过障碍物，何时简单地绕过它？如果代理在三维空间中移动，例如鸟或海豚呢？我们如何决定代理的垂直位置以及何时改变该位置？当路径空间被其他移动的代理挤满时会发生什么？如果路径是为蛇（或蜘蛛、大象、18轮卡车）而不是双足人形设计的呢？我们如何使这些场景中的运动看起来逼真？

这些都是较少被探索的问题。许多游戏引擎至少解决了其中一些问题，并且有中间件供应商开发出越来越令人印象深刻的解决方案。然而，许多细节是高度游戏特定的，甚至完全未解决。随着路径需求的复杂性增加，遇到真正困难挑战的可能性也随之增加。

当你在玩一个AI角色可以在模拟世界中自由移动的游戏时，试着寻找AI偏爱“最短”路径而不是更现实或真正最优路径的情况。采取这种路线的AI角色通常会失去所有可信度。玩家仍然会发现完全病态的情况，例如代理卡在墙上或在野外相互碰撞。以批判的眼光观察游戏AI代理在其环境中的导航，会发现许多改进的机会。

找到最短路径几乎是一个已解决的问题（在环境足够简单或适合准确搜索启发式的情况下），但找到真正优秀的路径仍然是一个正在探索的领域。

#### 1.5.2 对话

为玩家提供与AI角色对话机会的游戏传统上遇到了一系列棘手的障碍。通常，游戏对话要么是纯粹脚本化的（例如，玩家可能会观看一个非互动的“过场动画”），要么最多由简单的对话树驱动。这几乎完全是由于与AI代理进行真正的对话交互的难度。

对话树仍然很受欢迎，但随着分支程度的增加，所需的内容量呈几何级数增长。对话可以探索的可能性越多，对话可能持续的时间越长，就必须编写（可能还需要录制）更多的文本来覆盖所有选项。因此，大多数对话树保持相当有限，并且对玩家来说往往显得人为受限。

开发与AI更好的对话交互很快进入了自然语言处理领域。最终，手动编写（可能还需要录制）所有可能的对话变得不切实际。极端的选项是即时解析玩家的输入，并动态生成可信的响应。

尽管这听起来很诱人，但自然语言处理被广泛认为是一个高度困难的AI问题。尽管在过去几十年中在这一领域取得了重大进展，但自然语言领域整体上仍然提供了许多有趣的挑战。

直觉上，似乎必须在预制对话和完全自然语言对话之间存在一些中间解决方案。虽然已经有一些可用的方法，但它们通常依赖于庞大的知识库来操作——这在游戏中可能不切实际。此外，这些知识库通常来自现实世界的数据，如互联网资源，这使得它们对于存在于中世纪欧洲的AI来说毫无用处。

一些非常值得注意的探索已经存在于游戏对话领域，其结果对于任何对更好的人机交互感兴趣的人来说都充满了希望和兴奋。尽管如此，仍有大量肥沃的土壤等待进一步探索。

任何抱怨对话树及其有限选择的玩家都亲身感受到了典型人机对话的限制。即使是像ELIZA这样的广受赞誉的“聊天机器人”，在相对正常的交互中也可能被难住或暴露出其人工性。

试着听一下当代游戏中“你的”玩家角色与其他AI角色之间的对话。每当某些重要的事情无法表达，每当某些完全“错误”的选择可用，以及每当你对听到完全相同的对话数十次感到厌烦时，想想人机交互的现状以及它可能被推向何方。

#### 1.5.3 动态故事情节

随着开发高质量游戏的成本不断增加，最大限度地提高游戏开发中每一分努力的价值比以往任何时候都更加重要。开发游戏的有限预算与玩家对最终产品的期望内容量之间的紧张关系需要谨慎平衡。预算只能增长到一定程度，超过这个点，游戏在消费者预期的价格点上就不可能盈利。

解决这个问题的一种方法是通过**可重玩性**——如果一款游戏可以在不变得乏味的情况下多次享受，那么对玩家的价值就会增加，而生产该游戏的成本保持不变。像《俄罗斯方块》或国际象棋这样的游戏具有无限的可重玩性，而一个以叙事驱动为主的“电影式”体验可能只值得玩一次。但如果我们想要制作一个既有丰富的故事讲述方面，又可以多次重玩的游戏呢？

构建一个具有大量分支机会的叙事有许多挑战。从某种意义上说，这个问题与对话树的问题非常相似。这就是动态故事讲述的用武之地。与其手动编写所有可能的游戏叙事状态，我们使用一些AI来承担故事讲述者的角色。

故事讲述者必须管理节奏、紧张感、难度级别、情节点等，同时以可信和娱乐的方式对玩家的决策做出反应。这甚至可能最终融入动态对话系统使用的知识表示中，以便玩家可以与游戏世界中的角色讨论正在发生的事情。

互动故事讲述的一个关键元素是将叙事引导到关键时刻，并最终引导到结局。即使不考虑试图故意破坏故事的玩家，这也足够困难。随着玩家与游戏世界互动的自由度增加，他们行为的可能结果数量也随之增加。动态故事讲述的一个主要挑战是在不感到强迫或突兀的情况下产生这种引导的叙事。

当然，在这方面已经采取了一些步骤，例如《求生之路》中的AI导演。即使是经典的“选择你自己的冒险”风格的叙事也可以被视为动态故事讲述的原型形式。这里有两种对比的动态故事讲述方法。对于“选择你自己的冒险”，玩家通过一组预先配置的可能故事情节选择一条路径。玩家在某种意义上是在被讲述一个故事。另一方面，AI导演风格的系统专注于为玩家生成有趣的体验；故事是涌现的，甚至可能只有在玩家回顾该体验时才会真正显现出来。

这两种方法都是完全有效的，尽管AI系统的角色可能明显不同。（事实上，“选择你自己的冒险”书籍格式早于复杂的游戏AI。）无论如何，动态故事讲述领域存在大量的可能性，AI作为故事讲述者的最终角色仍在定义中。

对于任何玩过一场精心策划的纸笔角色扮演游戏，甚至经历过一场激动人心的“假装”游戏的人来说，不难发现计算机游戏中的故事讲述缺陷。最终，某个玩家必然会尝试一些在游戏构建中没有特别考虑到的事情。虽然这可能会导致有趣（尽管有些荒谬）的结果，但更多时候会导致轻微的烦恼和失望。

在玩一个高度叙事驱动的游戏时，花时间观察玩家选择是如何处理的。注意何时提供选择以及